{"version":3,"sources":["ale/components/orders.cljs"],"mappings":";;;AAGA,AAAA,AAAMA,AACHC;AADH,AAEE,AAACC,AAAMC,AAAaC,AAAOH;;AAE7B,AAAA,AAAMI;AAAN,AAEE,AAAA,AAACC,AAAOH;;AAEV,AAAA,AAAMI;AAAN,AAGO,AAACE,AAAI,AAAAC,AACL,AAACM,AAAOC;AADH,AAAA,AAAAN,AAAAD;AAAA,AAAAE,AAAAD,AAAA,AAAA,AAAKV;AAAL,AAAAW,AAAAD,AAAA,AAAA,AAAQE;AAAR,AAAmB,AAAGA,AAAS,AAAA,AAAAL,AAAA,AAAA,AAACM,AAAQC,AAAad;AADzDE,AACD,AAAAK;;AAGP,AAAA,AAAMU,AACHjB,AAAGY;AADN,AAEE,AAAAM,AAA+B,AAAA,AAAAX,AAACe,AAAKR,AAAYd;AAAjDkB,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AAAcK;AAAd,AAAAD,AAAAJ,AAAA,AAAkBM;AAAlB,AAAAF,AAAAJ,AAAA,AAAuBO;AAAvB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACmBzB,AAEHuB,AAEF,AAAA,AAAKC,AAAgBZ,AAElB,AAAGa,AAAMb;;AAP1B,AAUkB,AAACb,AAAaC;;AAVhC,AAAA;;AAaF,AAAA,AAAM0B;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAKK,AAAAC,AAAA,AAAAC;AAAA,AAAA,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAD,AAAAA;;AAAA,AAAA,AAAAE,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAAE;AAAA,AAAA,AAAAF,AAAAE;AAAA,AAAA,AAAA,AAAAE,AAAAJ;AAAA,AAAAK,AA83E8C,AAAAiB,AAAAtB;AA93E9CM,AAAA,AAAAC,AAAAF;AAAAG,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAA,AAAA,AAAAI,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAJ;AAAA,AAAAK,AAAA,AAAAC,AAAAP,AAAAK;AAAA,AAAA3B,AAAA4B,AAAA,AAAA,AAAOvC;AAAP,AAAAW,AAAA4B,AAAA,AAAA,AAAU3B;AAAV,AAAA,AAAA,AAAA6B,AAAAL,AACE,AAACnB,AAAgBjB,AAAGY;;AADtB,AAAA,AAAA0B,AAAA;;;;AAAA;;;;;AAAA,AAAAI,AAAA,AAAAC,AAAAP,AAAA,AAAAQ,AAAA,AAAAC,AAAAjB;;AAAA,AAAAc,AAAA,AAAAC,AAAAP,AAAA;;;AAAA,AAAAU,AAAA,AAAAC,AAAAnB;AAAA,AAAAjB,AAAAmC,AAAA,AAAA,AAAO9C;AAAP,AAAAW,AAAAmC,AAAA,AAAA,AAAUlC;AAAV,AAAA,AAAAoC,AAAA,AAAAJ,AAAA,AAAAK,AAAArB,AACE,AAACX,AAAgBjB,AAAGY;;;AADtB;;;;AAAA,AAAA;;AAAA,AAAA,AAAAe,AAAA,AAAApB,AAAqBL;AAL1B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAakB,AAACI;AAbnB,AAgBkB,AAACF;AAhBnB,AAAA","names":["ale.components.orders/remove-order","id","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3","ale.state/orders","cljs.core/dissoc","ale.components.orders/remove-all","cljs.core/reset!","ale.components.orders/total","cljs.core/deref","cljs.core.map.cljs$core$IFn$_invoke$arity$2","p__27306","vec__27307","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","quantity","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","ale.state/beers","cljs.core.reduce.cljs$core$IFn$_invoke$arity$2","cljs.core/+","ale.components.orders/order-component","map__27310","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","img","name","price","ale.components.orders/orders","iter__4523__auto__","s__27313","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4521__auto__","size__4522__auto__","cljs.core/count","b__27315","cljs.core/chunk-buffer","i__27314","vec__27316","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__27312","cljs.core/chunk-rest","vec__27319","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core/chunk-first"],"sourcesContent":["(ns ale.components.orders\n  (:require [ale.state :as state]))\n\n(defn remove-order\n  [id]\n  (swap! state/orders dissoc id))\n\n(defn remove-all\n  []\n  (reset! state/orders {}))\n\n(defn total\n  []\n  (->> @state/orders\n       (map (fn[[id quantity]] (* quantity (get-in @state/beers [id :price]))))\n       (reduce +)))\n\n(defn order-component\n  [id quantity]\n  (let [{:keys [img name price]} (get @state/beers id)]\n    [:div.item {:key id}\n     [:div.img\n      [:img {:src img}]]\n     [:div.content\n      [:p.title (str name \" \\u00D7 \" quantity)]\n      [:div.action\n       [:div.price (* price quantity)]\n       [:button.btn.btn--link.tooltip\n        {:data-tooltip \"Remove\"\n         :on-click #(remove-order id)}\n        [:i.icon.icon--cross]]]]]))\n\n(defn orders\n  []\n  [:aside\n   [:div.order\n    [:div.body\n     (for [[id quantity] @state/orders]\n       (order-component id quantity))]]\n\n   [:div.total\n    [:hr]\n    [:div.item\n     [:div.content \"Total\"]\n     [:div.action\n      [:div.price (total)]]\n     [:button.btn.btn--link.tooltip\n      {:data-tooltip \"Remove all\"\n       :on-click #(remove-all)}\n      [:i.icon.icon--delete]]]]])\n"]}